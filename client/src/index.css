@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=DM+Sans:wght@400;500;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Pastel & Playful Palette */
  --font-display: 'Outfit', sans-serif;
  --font-sans: 'DM Sans', sans-serif;

  /* Soft Pink Primary */
  --primary: 330 85% 65%;
  --primary-foreground: 0 0% 100%;

  /* Deep Purple Secondary/Text */
  --secondary: 260 60% 96%;
  --secondary-foreground: 270 40% 25%;

  /* Soft Blue Accent */
  --accent: 210 90% 90%;
  --accent-foreground: 220 50% 30%;

  /* Backgrounds */
  --background: 320 30% 98%; /* Very subtle pink tint */
  --foreground: 270 40% 20%;
  
  --card: 0 0% 100%;
  --card-foreground: 270 40% 20%;
  
  --popover: 0 0% 100%;
  --popover-foreground: 270 40% 20%;

  --muted: 270 20% 94%;
  --muted-foreground: 270 10% 50%;

  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;

  --border: 270 20% 90%;
  --input: 270 20% 90%;
  --ring: 330 85% 65%;

  --radius: 1rem;
}

.dark {
  /* Dark Mode Palette */
  --primary: 330 85% 60%;
  --primary-foreground: 0 0% 100%;

  --secondary: 260 30% 20%;
  --secondary-foreground: 270 20% 90%;

  --accent: 260 40% 30%;
  --accent-foreground: 270 20% 95%;

  --background: 270 20% 10%;
  --foreground: 270 10% 90%;
  
  --card: 270 20% 14%;
  --card-foreground: 270 10% 90%;
  
  --popover: 270 20% 14%;
  --popover-foreground: 270 10% 90%;

  --muted: 270 15% 20%;
  --muted-foreground: 270 10% 60%;

  --destructive: 0 70% 50%;
  --destructive-foreground: 0 0% 100%;

  --border: 270 15% 25%;
  --input: 270 15% 25%;
  --ring: 330 85% 55%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
  }
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    @apply font-bold tracking-tight text-secondary-foreground;
  }
  /* Ensure all form inputs have visible text */
  input, textarea, select {
    color: #111827 !important; /* gray-900 */
  }
  .dark input, .dark textarea, .dark select {
    color: #f3f4f6 !important; /* gray-100 */
  }
  input::placeholder, textarea::placeholder {
    color: #9ca3af !important; /* gray-400 for placeholders */
  }
}

/* Custom Utilities for that "Premium" feel */
@layer utilities {
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500;
  }
  
  .glass-panel {
    @apply bg-white/70 backdrop-blur-lg border border-white/20 shadow-xl;
  }
  
  .animate-enter {
    animation: enter 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }
}

@keyframes enter {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Force visible text in all form inputs - outside @layer for highest priority */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="search"],
input[type="tel"],
input[type="url"],
input:not([type]),
textarea,
select {
  color: #000000 !important;
  -webkit-text-fill-color: #000000 !important;
}

.dark input[type="text"],
.dark input[type="email"],
.dark input[type="password"],
.dark input[type="number"],
.dark input[type="search"],
.dark input[type="tel"],
.dark input[type="url"],
.dark input:not([type]),
.dark textarea,
.dark select {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
}

/* Override browser autofill styles */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-text-fill-color: #000000 !important;
  -webkit-box-shadow: 0 0 0 1000px white inset !important;
  box-shadow: 0 0 0 1000px white inset !important;
  background-color: white !important;
  color: #000000 !important;
  caret-color: #000000 !important;
}

/* Force text color on all input states */
input:focus,
input:active,
input:valid,
input:invalid,
textarea:focus,
textarea:active,
select:focus,
select:active {
  color: #000000 !important;
  -webkit-text-fill-color: #000000 !important;
}

.dark input:-webkit-autofill,
.dark input:-webkit-autofill:hover,
.dark input:-webkit-autofill:focus,
.dark input:-webkit-autofill:active {
  -webkit-text-fill-color: #ffffff !important;
  -webkit-box-shadow: 0 0 0 1000px #1f2937 inset !important;
}

/* Mobile-specific fixes for text visibility */
@media screen and (max-width: 768px) {
  input, textarea, select {
    color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
    opacity: 1 !important;
    font-size: 16px !important;
    caret-color: #000000 !important;
  }
  
  input::placeholder, textarea::placeholder {
    color: #6b7280 !important;
    -webkit-text-fill-color: #6b7280 !important;
    opacity: 1 !important;
  }
  
  /* iOS Safari specific fixes */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  textarea {
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
    background-color: #ffffff !important;
    caret-color: #000000 !important;
  }
}

/* Light mode: force all inputs to have black text */
:root:not(.dark) input:not([type="checkbox"]):not([type="radio"]):not([type="submit"]):not([type="button"]),
:root:not(.dark) textarea,
:root:not(.dark) select {
  color: #000000 !important;
  -webkit-text-fill-color: #000000 !important;
  caret-color: #000000 !important;
  -webkit-opacity: 1 !important;
  opacity: 1 !important;
  text-shadow: 0 0 0 #000000 !important;
}

/* Light mode: Ensure text is visible when input has value */
:root:not(.dark) input:not(:placeholder-shown),
:root:not(.dark) textarea:not(:placeholder-shown) {
  color: #000000 !important;
  -webkit-text-fill-color: #000000 !important;
  text-shadow: 0 0 0 #000000 !important;
}

/* Light mode: Force text color on touch devices */
@supports (-webkit-touch-callout: none) {
  :root:not(.dark) input,
  :root:not(.dark) textarea,
  :root:not(.dark) select {
    color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
  }
}

/* Dark mode: force all inputs to have white text */
.dark input:not([type="checkbox"]):not([type="radio"]):not([type="submit"]):not([type="button"]),
.dark textarea,
.dark select {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
  caret-color: #ffffff !important;
}

/* FINAL OVERRIDE - Maximum specificity for input text visibility */
html body input,
html body textarea,
html body select,
html body input[class*="input"],
html body textarea[class*="textarea"] {
  color: #000000 !important;
  -webkit-text-fill-color: #000000 !important;
  opacity: 1 !important;
  -webkit-opacity: 1 !important;
}

html.dark body input,
html.dark body textarea,
html.dark body select,
html body.dark input,
html body.dark textarea,
html body.dark select,
.dark input,
.dark textarea,
.dark select {
  color: #ffffff !important;
  -webkit-text-fill-color: #ffffff !important;
  opacity: 1 !important;
  -webkit-opacity: 1 !important;
}

/* Mobile Safari specific fix */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  input, textarea, select {
    color: #000000 !important;
    -webkit-text-fill-color: #000000 !important;
    font-size: 16px !important;
  }
  .dark input, .dark textarea, .dark select {
    color: #ffffff !important;
    -webkit-text-fill-color: #ffffff !important;
  }
}

/* iOS Safari Ultimate Fix - Force visible text using multiple techniques */
.ios-input-fix {
  color: #111827 !important;
  -webkit-text-fill-color: #111827 !important;
  -webkit-text-stroke-width: 0 !important;
  -webkit-text-stroke-color: #111827 !important;
  text-shadow: 0 0 0 #111827, 0 0 0 rgba(0,0,0,1) !important;
  opacity: 1 !important;
  -webkit-appearance: none !important;
  background-color: white !important;
  caret-color: #111827 !important;
}

/* Ensure the input value is always visible */
.ios-input-fix:not(:placeholder-shown) {
  color: #111827 !important;
  -webkit-text-fill-color: #111827 !important;
}

/* For autofill states */
.ios-input-fix:-webkit-autofill,
.ios-input-fix:-webkit-autofill:hover,
.ios-input-fix:-webkit-autofill:focus,
.ios-input-fix:-webkit-autofill:active {
  -webkit-text-fill-color: #111827 !important;
  -webkit-box-shadow: 0 0 0 1000px white inset !important;
  box-shadow: 0 0 0 1000px white inset !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* Dark mode iOS input fix */
.dark .ios-input-fix,
.dark input,
.dark textarea,
.dark select {
  color: #f3f4f6 !important;
  -webkit-text-fill-color: #f3f4f6 !important;
  caret-color: #f3f4f6 !important;
}

.dark .ios-input-fix {
  background-color: transparent !important;
  -webkit-text-stroke-color: #f3f4f6 !important;
  text-shadow: 0 0 0 #f3f4f6 !important;
}

.dark .ios-input-fix:-webkit-autofill,
.dark .ios-input-fix:-webkit-autofill:hover,
.dark .ios-input-fix:-webkit-autofill:focus {
  -webkit-text-fill-color: #f3f4f6 !important;
  -webkit-box-shadow: 0 0 0 1000px #1f2937 inset !important;
  box-shadow: 0 0 0 1000px #1f2937 inset !important;
}

/* Force text visibility on mobile for profile content */
.mobile-text-fix {
  color: #111827 !important;
  -webkit-text-fill-color: #111827 !important;
  opacity: 1 !important;
}

.dark .mobile-text-fix {
  color: #f3f4f6 !important;
  -webkit-text-fill-color: #f3f4f6 !important;
  opacity: 1 !important;
}
